'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true,
});

exports.correctCaretPosition = exports.getCaretPosition = exports.setCaretPosition = void 0;

var setCaretPosition = function setCaretPosition(input, pos, endPos) {
  var end = endPos || pos;

  if (input.setSelectionRange) {
    input.focus();
    input.setSelectionRange(pos, end);
  }
};

exports.setCaretPosition = setCaretPosition;

var getCaretPosition = function getCaretPosition(input) {
  input.focus();

  if (input.selectionStart) {
    return input.selectionStart;
  }

  return 0;
};

exports.getCaretPosition = getCaretPosition;

var correctCaretPosition = function correctCaretPosition(input) {
  var currentCaretPosition = exports.getCaretPosition(input);
  var prevVal = input.value;
  setTimeout(function () {
    if (prevVal.length < input.value.length) {
      currentCaretPosition += 1;
    }

    if (prevVal.length > input.value.length) {
      currentCaretPosition -= 1;
    }

    exports.setCaretPosition(input, currentCaretPosition);
  }, 0);
};

exports.correctCaretPosition = correctCaretPosition;
